# test.conf - Example Apache configuration for testing mod_webp

# This is a minimal configuration for testing the enhanced mod_webp module

# Load the module
LoadModule webp_module modules/mod_webp.so

# Virtual host for testing
<VirtualHost *:80>
    ServerName webptest.local
    DocumentRoot /var/www/webptest

    # Basic WebP conversion (compatibility mode)
    <Directory "/var/www/webptest">
        WebPEnabled On
        WebPStrictMode Off
        WebPQuality 85.0
        WebPCacheDir /var/cache/mod_webp
        WebPMaxFileSize 52428800  # 50MB
        WebPMaxWidth 16384
        WebPMaxHeight 16384
        WebPCacheTimeout 3600
        WebPLogLevel 2  # INFO level
        WebPAllowedFormats "jpeg,png,bmp,tiff,gif"

        # Apply to all image files
        <FilesMatch "\.(jpe?g|png|bmp|tiff?|gif|webp)$">
            SetHandler webp-handler
        </FilesMatch>
    </Directory>
</VirtualHost>